#!/usr/bin/env node

import { App, run, runPreInitServerTasks } from '../src/index.js';
import { info, debug, error } from '../src/lib/log/index.js';

function initApp() {
  debug('Starting server with default port!');
  run(App);
  App.on('listening', () =>
    info(':rocket: :+1: :clip: @ ' + App.address().address + ':' + App.address().port)
  );
  App.on('error', (err) => error(err));
}

await runPreInitServerTasks();
initApp();
